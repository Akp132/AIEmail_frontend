{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[recipients,setRecipients]=useState('');const[prompt,setPrompt]=useState('');const[generatedEmail,setGeneratedEmail]=useState('');const[subject,setSubject]=useState('');// 1. Generate email from LLM\nconst handleGenerate=async()=>{try{if(!prompt){alert(\"Please provide a prompt.\");return;}const response=await fetch('/api/generate',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});const data=await response.json();if(data.error){alert(data.error);}else{setGeneratedEmail(data.emailContent);}}catch(error){console.error('Error generating email:',error);alert('Error generating email content.');}};// 2. Send email via the backend\nconst handleSend=async()=>{try{if(!recipients||!generatedEmail){alert(\"Recipient(s) and email content are required to send.\");return;}const response=await fetch('/api/send',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({recipients,subject:subject||'AI-Generated Email',emailBody:generatedEmail})});const data=await response.json();if(data.error){alert(data.error);}else{alert('Email sent successfully!');}}catch(error){console.error('Error sending email:',error);alert('Error sending email.');}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'50px auto',fontFamily:'sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Email Generation App\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recipients (comma-separated):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:'100%',padding:'8px',marginTop:'5px'},value:recipients,onChange:e=>setRecipients(e.target.value),placeholder:\"e.g. test1@gmail.com, test2@gmail.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prompt:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",style:{width:'100%',padding:'8px',marginTop:'5px'},value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Describe the email context...\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerate,children:\"Generate Email\"}),generatedEmail&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:'100%',padding:'8px',marginTop:'5px'},value:subject,onChange:e=>setSubject(e.target.value),placeholder:\"Optional Subject\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Generated Email:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"8\",style:{width:'100%',padding:'8px',marginTop:'5px'},value:generatedEmail,onChange:e=>setGeneratedEmail(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,children:\"Send Email\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","recipients","setRecipients","prompt","setPrompt","generatedEmail","setGeneratedEmail","subject","setSubject","handleGenerate","alert","response","fetch","method","headers","body","JSON","stringify","data","json","error","emailContent","console","handleSend","emailBody","style","maxWidth","margin","fontFamily","children","marginBottom","type","width","padding","marginTop","value","onChange","e","target","placeholder","rows","onClick"],"sources":["/Users/akshay/Desktop/AI-email_gen/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction App() {\n  const [recipients, setRecipients] = useState('');\n  const [prompt, setPrompt] = useState('');\n  const [generatedEmail, setGeneratedEmail] = useState('');\n  const [subject, setSubject] = useState('');\n\n  // 1. Generate email from LLM\n  const handleGenerate = async () => {\n    try {\n      if (!prompt) {\n        alert(\"Please provide a prompt.\");\n        return;\n      }\n\n      const response = await fetch('/api/generate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ prompt })\n      });\n\n      const data = await response.json();\n      if (data.error) {\n        alert(data.error);\n      } else {\n        setGeneratedEmail(data.emailContent);\n      }\n    } catch (error) {\n      console.error('Error generating email:', error);\n      alert('Error generating email content.');\n    }\n  };\n\n  // 2. Send email via the backend\n  const handleSend = async () => {\n    try {\n      if (!recipients || !generatedEmail) {\n        alert(\"Recipient(s) and email content are required to send.\");\n        return;\n      }\n\n      const response = await fetch('/api/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          recipients,\n          subject: subject || 'AI-Generated Email',\n          emailBody: generatedEmail\n        })\n      });\n\n      const data = await response.json();\n      if (data.error) {\n        alert(data.error);\n      } else {\n        alert('Email sent successfully!');\n      }\n    } catch (error) {\n      console.error('Error sending email:', error);\n      alert('Error sending email.');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '600px', margin: '50px auto', fontFamily: 'sans-serif' }}>\n      <h1>Email Generation App</h1>\n\n      <div style={{ marginBottom: '20px' }}>\n        <label>Recipients (comma-separated):</label>\n        <input\n          type=\"text\"\n          style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n          value={recipients}\n          onChange={(e) => setRecipients(e.target.value)}\n          placeholder=\"e.g. test1@gmail.com, test2@gmail.com\"\n        />\n      </div>\n\n      <div style={{ marginBottom: '20px' }}>\n        <label>Prompt:</label>\n        <textarea\n          rows=\"4\"\n          style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          placeholder=\"Describe the email context...\"\n        />\n      </div>\n\n      <button onClick={handleGenerate}>Generate Email</button>\n\n      {generatedEmail && (\n        <div style={{ marginTop: '30px' }}>\n          <div style={{ marginBottom: '20px' }}>\n            <label>Subject (optional):</label>\n            <input\n              type=\"text\"\n              style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n              placeholder=\"Optional Subject\"\n            />\n          </div>\n\n          <div style={{ marginBottom: '20px' }}>\n            <label>Generated Email:</label>\n            <textarea\n              rows=\"8\"\n              style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n              value={generatedEmail}\n              onChange={(e) => setGeneratedEmail(e.target.value)}\n            />\n          </div>\n\n          <button onClick={handleSend}>Send Email</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}